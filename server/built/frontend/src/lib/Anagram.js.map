{"version":3,"file":"Anagram.js","sourceRoot":"","sources":["../../../../../frontend/src/lib/Anagram.ts"],"names":[],"mappings":";;AAIA,MAAqB,OAAO;IAIxB,YAAY,WAA0B,EAAE,aAAqB;QACzD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACvC,CAAC;IAED,KAAK;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;IACjC,CAAC;IAED,SAAS;QACL,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,QAAQ,CAAC,OAAe;QACpB,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC7C,CAAC;IAED,QAAQ,CAAC,QAAgB,EAAE,KAA4B;QACnD,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,mCAC1B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,GACjC,KAAK,CACX,CAAA;IACL,CAAC;IAED,aAAa,CAAC,KAA4B;QACtC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IAC7C,CAAC;IAED,aAAa,CAAC,IAAY;QACtB,IAAI,CAAC,aAAa,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,aAAa,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;IAChF,CAAC;IAED,UAAU;QACN,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;IAClC,CAAC;IAED,SAAS;QACL,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC;IACvC,CAAC;CACJ;AApDD,0BAoDC","sourcesContent":["import { AnagramConfig, AnagramObject, AnagramState, User } from '../../types';\r\n\r\nimport * as PConstants from 'constants';\r\n\r\nexport default class Anagram {\r\n    private readonly game_object: AnagramObject;\r\n    private readonly local_user_id: string;\r\n\r\n    constructor(game_object: AnagramObject, local_user_id: string) {\r\n        this.game_object = game_object;\r\n        this.local_user_id = local_user_id;\r\n    }\r\n\r\n    getID(): string {\r\n        return this.game_object.uuid;\r\n    }\r\n\r\n    getConfig(): AnagramConfig {\r\n        return this.game_object.config;\r\n    }\r\n\r\n    getState(user_id: string): AnagramState {\r\n        return this.game_object.states[user_id];\r\n    }\r\n\r\n    getLocalState() : AnagramState {\r\n        return this.getState(this.local_user_id);\r\n    }\r\n\r\n    setState(username: string, state: Partial<AnagramState>) {\r\n        this.game_object.states[username] = {\r\n            ...this.game_object.states[username],\r\n            ...state\r\n        }\r\n    }\r\n\r\n    setLocalState(state: Partial<AnagramState>) {\r\n        this.setState(this.local_user_id, state);\r\n    }\r\n\r\n    lazyScoreWord(word: string) {\r\n        this.getLocalState().words.push(word);\r\n        this.getLocalState().score = this.getLocalState().score + word.length * 100;\r\n    }\r\n\r\n    getPlayers(): User[] {\r\n        return this.game_object.users;\r\n    }\r\n\r\n    getObject(): AnagramObject {\r\n        return this.game_object;\r\n    }\r\n\r\n    hasBeenViewed(): boolean {\r\n        return this.getLocalState().viewed;\r\n    }\r\n}"]}