{"version":3,"file":"DB.js","sourceRoot":"","sources":["../../src/db/DB.ts"],"names":[],"mappings":";;AAAA,+BAAuD;AAGvD,MAAM,EAAE;IAKJ;QAJO,OAAE,GAAiB,cAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAK/C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAElC,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,KAAK,YAAY,EAAE;YACnC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACjB,CAAC,oBAAoB,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;aAC5C,CAAC,CAAC;SACN;IACL,CAAC;CACJ;AAED,kBAAe,IAAI,EAAE,EAAE,CAAC","sourcesContent":["import monk, { IMonkManager, ICollection } from 'monk';\r\nimport { adjectives, animals, Config } from 'unique-names-generator';\r\n\r\nclass DB {\r\n    public db: IMonkManager = monk(process.env.DB_URI);\r\n    public anagrams: ICollection;\r\n    public users: ICollection;\r\n\r\n    constructor() {\r\n        this.anagrams = this.db.get('anagram-games');\r\n        this.users = this.db.get('users');\r\n\r\n        if (process.env.MODE === 'PRODUCTION') {\r\n            console.log('Removing all debug games...');\r\n            this.anagrams.remove({\r\n                ['states.wames-debug']: { $exists: true }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default new DB();"]}